<!DOCTYPE html>
<html>
<head>
	<title></title>
	<style>
		@font-face {
			font-family: "originalFont";
			src: url(/0_data/fonts/B612Mono-Regular.ttf) format("truetype");
			src: url(https://u-12031.github.io/0_data/fonts/B612Mono-Regular.ttf) format("truetype");
		}

		@font-face {
			font-family: "numFont";
			src: url(/0_data/fonts/Lekton-Bold.ttf) format("truetype");
			src: url(https://u-12031.github.io/0_data/fonts/Lekton-Bold.ttf) format("truetype");
		}

		* {
			color: white;
			font-family: "originalFont";
		}

		body {
			margin: 0;
			background-color: #010;
		}

		#parent {
			position: relative;
			background-color: #09e;
			display: block;
			width: 400px;
			height: 500px;
			border: none;
			border-radius: 50px;
			overflow: hidden;
		}

		#parent>* {
			display: block;
			position: absolute;
		}

		#ground {
			top: 50%;
			left: 50%;
			translate: -50% 0;
			transform-origin: top center;
			background-color: #840;
			width: 1400px;
			height: 100%;
		}

		#highScale {
			top: -450px;
			left: -500px;
			transform-origin: center;
		}

		#bank {
			background-color: #fa0;
			width: 100%;
			height: 100px;
			/* clip-path: ; */
		}

	</style>
</head>
<body>
	<div id="parent">
		<div id="ground"></div>
		<canvas id="highScale" width="1400" height="1400"></canvas>
		<!-- <div id="bank">
			<div></div>
			<canvas id="bankScale"></canvas>
		</div> -->
	</div>
	TEST<br>ROTATE<input type="range" id="input1" min="-50" value="0" max="50" style="width: 300px;"><span id="output1">0 deg</span>
	<br>
	X-TRANSFORM<input type="range" id="input2" min="-500" value="0" max="500" style="width: 300px;"><span id="output2">0 px</span>
	<br>
	Y-TRANSFORM<input type="range" id="input3" min="-500" value="0" max="500" style="width: 300px;"><span id="output3">0 px</span>
	<script>
		el("input1").oninput = function() {
			el("output1").innerHTML = this.value + " deg";
			el("ground").style.rotate = this.value + "deg";
			el("highScale").style.rotate = this.value + "deg";
		}
		el("input2").oninput = function() {
			el("output2").innerHTML = this.value + " px";
			el("ground").style.translate = "calc(-50% + " + this.value + "px) " + el("input3").value + "px";
			el("highScale").style.translate = this.value + "px " + el("input3").value + "px";
		}
		el("input3").oninput = function() {
			
			el("output3").innerHTML = this.value + " px";
			el("ground").style.translate = "calc(-50% + " + el("input2").value + "px) " + this.value + "px";
			el("highScale").style.translate = el("input2").value + "px " + this.value + "px";
		}
		/** この関数は、取得したidを持つ要素を返します。
		 * @param {string} id 取得する要素のidです。
		*/
		function el(id) {return document.getElementById(id)};
		const HIGH_SCALE = el("highScale").getContext("2d");

		/** この関数は、要素に線を描画します。
		 * @param {object} objective 描画先の要素の描画コンテキストです。
		 * @param {array} paths 描画する線のパスです。[[x1, y1], [x2, y2]]のように配列で入力してください。
		 * @param {boolean} doClose=false 描画した線を閉じるかどうかを定義します。
		 * @param {boolean} doFill=false 描画した線を図形として塗りつぶすがどうかを定義します。doFillをtrueにするとき、必ずdoCloseもtrueにしてください。
		*/
		function drawLine(objective, paths, doClose=false, doFill=false) {
			const firstPath = paths[0];
			const otherPath = paths.slice(1);
			objective.beginPath();
			objective.moveTo(firstPath[0], firstPath[1]);
			for(const path of otherPath) {
				path
			}
		};
		/** この関数は、要素の中心に線を描画します。
		 * @param {object} objective 描画先の要素の描画コンテキストです。
		 * @param {number} y 描画する線の高さです。
		 * @param {number} width 描画する線の幅です。
		 * @param {boolean} doClose=true 描画した線を閉じるかどうかを定義します。
		*/
		function drawLineOnCenter(objective, y, width, doClose=true) {
			const centerStart = 700 - (width / 2);
			const centerEnd = 700 + (width / 2);
			objective.beginPath();
			objective.moveTo(centerStart, y);
			objective.lineTo(centerEnd, y);
			if(doClose) objective.closePath();
			objective.stroke();
		};
		/** この関数は、addScaleOnCenter関数で描画したような目盛りの左右にラベルを付けます。
		 * @param {string} text="" 描画するテキストです(英数半角2文字指定。そうでないと正しい位置に表示されません)。
		 * @param {number} y テキストのy座標です。描画したいところのy座標から10増やした値を入れてください。
		*/
		function addScaleLabel(text="", y) {
			HIGH_SCALE.fillText(text, 560, y);
			HIGH_SCALE.fillText(text, 820, y);
		};
		HIGH_SCALE.fillStyle = "white";
		HIGH_SCALE.font = "bold 25px numFont"
		HIGH_SCALE.lineWidth = 5;
		HIGH_SCALE.strokeStyle = "white";

		drawLineOnCenter(HIGH_SCALE, 697.5, 1400);
		
		for(let i=0;i<9;i++) {
			drawLineOnCenter(HIGH_SCALE, -80*i + 677.5, 50);
			drawLineOnCenter(HIGH_SCALE, -80*i + 657.5, 100);
			drawLineOnCenter(HIGH_SCALE, -80*i + 637.5, 50);
			drawLineOnCenter(HIGH_SCALE, -80*i + 617.5, 200);
			addScaleLabel(`${(i+1)*10}`, -80*i + 627.5);
		};
		for(let i=0;i<9;i++) {
			drawLineOnCenter(HIGH_SCALE, 80*i + 717.5, 50);
			drawLineOnCenter(HIGH_SCALE, 80*i + 737.5, 100);
			drawLineOnCenter(HIGH_SCALE, 80*i + 757.5, 50);
			drawLineOnCenter(HIGH_SCALE, 80*i + 777.5, 200);
			addScaleLabel(`${(i+1)*10}`, 80*i + 787.5);
		};
	</script>
</body>
</html>